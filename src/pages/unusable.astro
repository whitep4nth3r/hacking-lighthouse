<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hack TBT score</title>
    <meta name="description" content="How to hack your Google Lighthouse TBT score" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš¨</text></svg>">

    <style is:global>
      html {
        font-size: 100%;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        pointer-events: none;
      }
      
      body {
        background-color:mediumvioletred;
        color: mistyrose;
      }

      main {
        position: relative;
        display: grid;
        place-content: center;
        min-height: 100vh;
        width: 100vw;
        max-width: 768px;
        margin: auto;
      }

      main h2 {
        font-size: 3rem;
        margin-top: 2rem;
        margin-bottom: 2rem;
      }

      h2:nth-child(even) {
        text-align: right;
        font-size: 4rem;
      } 

      main p {
        font-size: 2rem;
        margin-bottom: 2rem;
      }

      main a {
        color: inherit;
        text-decoration: underline;
      }

      .explain {
        display: none;
      }

      button {
        font-size: 2rem;
        padding: 0.5rem 1rem;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>welcome</h1>
      <button data-button>click me</button>
      <p class="explain" data-explain>You couldn't click the button for 5 seconds, yet Google Lighthouse didn't penalise the performance or accessibility score of the web page â€” you also couldn't use the keyboard.</p>
    </main>
    <footer>
      <script is:inline>

        const events = ['keyup', 'keydown', 'keypress', "click"];

        events.forEach((thing, index) => {
          document.addEventListener(events[index], (e) => {
            console.log('preventing')
            console.log(e)
            
            e.preventDefault();
          })
        });

        const button = document.querySelector("[data-button]");
        const explain = document.querySelector("[data-explain]");
        
        button.addEventListener("click", () => {
          explain.style.display = "block";
        });
        
        setTimeout(() => {
          const html = document.querySelector("html");
          html.style.pointerEvents = "auto";
        }, 5000);

        setTimeout(() => {
          button.innerText = "click me, eventually"
        }, 2000);
      </script>
    </footer>
  </body>
</html>
